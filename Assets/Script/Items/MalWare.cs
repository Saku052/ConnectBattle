using UnityEngine;

[CreateAssetMenu(fileName = "Status", menuName = "ScriptableObjects/MalWare")]
public class MalWare : ScriptableObject
{
    public string MalWareName;
    public string MalWareDescription;
    public Sprite MalWareImage;
    public int MalWarePrice;
    public int MalWareRank;

    
    public int BasicStat;
    public int MainStat;
    public DamageCalc.StatusType BasicStatType;
    public DamageCalc.StatusType MainStatType;

    // when crack is succesful
    public (Status Main, Status Enemy) Crack(Status a_status, Status b_status)
    {
        float damage = (float)DamageCalc.AtkCalc(a_status, b_status) * 0.5f;
        int def = DamageCalc.DefCalc(a_status, b_status);
        int red_atk = DamageCalc.RedAtkCalc(a_status, b_status);

        b_status.Hp -= (int)damage;
        b_status.Def -= def;
        a_status.Atk -= red_atk;


        // return hp and def
        return (a_status, b_status);
    }

    // when burst is succesful
    public (Status Main, Status Enemy) Burst(Status a_status, Status b_status)
    {
        float damage = (float)DamageCalc.AtkCalc(a_status, b_status) * 1.2f;
        int def = DamageCalc.DefCalc(a_status, b_status);
        float red_atk = (float)DamageCalc.RedAtkCalc(a_status, b_status);

        b_status.Hp -= (int)damage;
        b_status.Def -= def;
        a_status.Atk -= (int)red_atk;

        // heal atk
        a_status.Atk += (int)(a_status.Def * 0.3f);

        // return hp and def
        return (a_status, b_status);
    }

    
}
